<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>AlexRhino - I Like Docker</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css"/>
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"/>
        <link rel="stylesheet" type="text/css" href="/theme/css/main.css"/>

<meta name="tags" content="devops" />
</head>
<body>
<style>.github-corner:hover .octo-arm {
    animation: octocat-wave 560ms ease-in-out
}
@keyframes octocat-wave {
    0%, 100% {
        transform: rotate(0)
    }
    20%, 60% {
        transform: rotate(-25deg)
    }
    40%, 80% {
        transform: rotate(10deg)
    }
}
@media (max-width: 500px) {
    .github-corner:hover .octo-arm {
        animation: none
    }

    .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
    }
}</style><div id="container">
    <header>
        <h1><a href="/">AlexRhino</a></h1>
            <ul class="social-media">
                    <li><a href="#"><i class="fa fa-You can add links in your config file fa-lg" aria-hidden="true"></i></a></li>
                    <li><a href="#"><i class="fa fa-Another social link fa-lg" aria-hidden="true"></i></a></li>
            </ul>
        <p><em></em></p>
    </header>
    <nav>
        <ul>
                    <li><a href="/category/devops.html"> devops </a></li>
                    <li><a                         class="active" href="/category/post.html"> post </a></li>
                    <li><a href="/pages/My favorite line.html">About Me</a>
                    </li>
        </ul>
    </nav>
<main>
    <article>
        <h2>I Like Docker</h2>
        
        <aside>
            <ul>
                <li>
                    <time datetime="2018-05-24 08:04:34+01:00">May 24, 2018</time>
                </li>
                <li>
                    <time datetime="2018-05-24 08:04:34+01:00">Modified
                        on May 24, 2018</time>
                </li>
                <li>9 min read</li>
                <li>
                    Categories:
                    <a href="/category/post.html"><em>post</em></a>
                </li>
                <li>
                    Tags:
                    <a href="/tag/devops.html"><em>#devops</em></a>
                </li>
            </ul>
        </aside>
        <p>All that I should know about docker</p>
<p><strong>Problem</strong></p>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="https://stackoverflow.com/questions/32944391/how-to-remove-multiple-docker-images-with-the-same-imageid">how-to-remove-multiple-docker-images-with-the-same-imageid</a></p>
</li>
<li><p class="first">Solution</p>
<pre class="code bash literal-block">
$ docker images --digests

REPOSITORY                     TAG       DIGEST                                                                    IMAGE ID        CREATED         SIZE
localhost:5000/test/busybox    &lt;none&gt;    sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf   4986bf8c1536

$ docker rmi localhost:5000/test/busybox&#64;sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf
 Untagged: localhost:5000/test/busybox&#64;sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf

Deleted: 4986bf8c15363d1c5d15512d5266f8777bfba4974ac56e3270e7760f6f0a8125
Deleted: ea13149945cb6b1e746bf28032f02e9b5a793523481a0a18645fc77ad53c4ea2
Deleted: df7546f9f060a2268024c8a230d8639878585defcc1bc6f79d2728a13957871b
</pre>
</li>
<li><p class="first"><strong>A wrong way to tag your images, would cause following situation</strong></p>
</li>
</ol>
<pre class="code bash literal-block">
root&#64;alexrhino:/var/lib/docker/aufs# docker images
REPOSITORY                                                     TAG                         IMAGE ID            CREATED             SIZE
localhost:5010/test/testbox    alex-prod                  38cae70accf2        <span class="m">17</span> hours ago        <span class="m">1</span>.16GB
localhost:5010/test/basebox   alex-prod                  38cae70accf2        <span class="m">17</span> hours ago        <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      58d957369c1c        <span class="m">41</span> hours ago        <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      58d957369c1c        <span class="m">41</span> hours ago        <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      62ca53b0c9c7        <span class="m">2</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      62ca53b0c9c7        <span class="m">2</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      0eb92d95a18f        <span class="m">5</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      0eb92d95a18f        <span class="m">5</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      876dc25b8d40        <span class="m">6</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      876dc25b8d40        <span class="m">6</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      280b957fb915        <span class="m">7</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      280b957fb915        <span class="m">7</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      eca74a9b8140        <span class="m">8</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/basebox   &lt;none&gt;                      eca74a9b8140        <span class="m">8</span> days ago          <span class="m">1</span>.16GB
localhost:5010/test/testbox    &lt;none&gt;                      843e018fb353        <span class="m">13</span> days ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      843e018fb353        <span class="m">13</span> days ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      90b5b3b6bfee        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      90b5b3b6bfee        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      4d962f3b0d9b        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      4d962f3b0d9b        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      d5f80203f282        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      d5f80203f282        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      67e77802afd0        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      67e77802afd0        <span class="m">2</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      4d0919e3fc13        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      4d0919e3fc13        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      22fc0e2f3428        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      22fc0e2f3428        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      128572db65c2        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      128572db65c2        <span class="m">3</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      f1a2ef9744c5        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      f1a2ef9744c5        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      fc7679329f50        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      fc7679329f50        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      e24575ef627e        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      e24575ef627e        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      8c76cc62527d        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      8c76cc62527d        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      9afaa6c00ae5        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      9afaa6c00ae5        <span class="m">4</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      597da1fcdf23        <span class="m">5</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/basebox   &lt;none&gt;                      597da1fcdf23        <span class="m">5</span> weeks ago         <span class="m">1</span>.15GB
localhost:5010/test/testbox    &lt;none&gt;                      3f8c3c02f26b        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      3f8c3c02f26b        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      8dd7f4fcd4a5        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      8dd7f4fcd4a5        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      969b33ca0db1        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      969b33ca0db1        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      6c7730c70461        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      6c7730c70461        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      7c4cfa746652        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      7c4cfa746652        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      8d3dbe487eb7        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      8d3dbe487eb7        <span class="m">5</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      b21c9c0c6cf3        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      b21c9c0c6cf3        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      f2c4bec1bd75        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      f2c4bec1bd75        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      f668bcd92952        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      f668bcd92952        <span class="m">6</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      fa236a559a6d        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      fa236a559a6d        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      a8743494e5d5        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      a8743494e5d5        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      cd1e1404960f        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      cd1e1404960f        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      d782b9823437        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      d782b9823437        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      ed4e98a2bcf1        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      ed4e98a2bcf1        <span class="m">7</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      740dce33789b        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      740dce33789b        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      cb8feafc122c        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      cb8feafc122c        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      00bdf42df9bc        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      00bdf42df9bc        <span class="m">8</span> weeks ago         <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      3c9d531d7b90        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      3c9d531d7b90        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      dd3badb0e789        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      dd3badb0e789        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      c63f7a201d25        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      c63f7a201d25        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      c19057a9af8e        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      c19057a9af8e        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      2bd9a64f42be        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      2bd9a64f42be        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      1d41c2a83a4f        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      1d41c2a83a4f        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      57c80b3fde1b        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      57c80b3fde1b        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      ca413052481e        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      ca413052481e        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      6e43cdecd898        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      6e43cdecd898        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      21a7109269fc        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      21a7109269fc        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      fd6a2ad896dc        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      fd6a2ad896dc        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      c310f3039014        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      c310f3039014        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      c26eb3c6193f        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      c26eb3c6193f        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      1c3b35ec3aae        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      1c3b35ec3aae        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      744d8b472762        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      744d8b472762        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      56a75e67fe42        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      56a75e67fe42        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      6fcb112a43bd        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      6fcb112a43bd        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      747d0a717b74        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      747d0a717b74        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      ce73f9dca053        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      ce73f9dca053        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      aacff1ac4b89        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      aacff1ac4b89        <span class="m">2</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      d487c7bd5bc8        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      d487c7bd5bc8        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      44d7bb1583b2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      44d7bb1583b2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      63220d68b1ff        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      63220d68b1ff        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      48c30da9cfd2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      48c30da9cfd2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      9cb113b38fa2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      9cb113b38fa2        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      be418f20c848        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      be418f20c848        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      907e91f516c9        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      907e91f516c9        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      d183936e2d75        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      d183936e2d75        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      74efdf98e891        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      74efdf98e891        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      8ab85d3dca92        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      8ab85d3dca92        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      bc2cace2779d        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      bc2cace2779d        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      2420d08f6c58        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      2420d08f6c58        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      1ff54b931f54        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      1ff54b931f54        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      4cf1560fb56c        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      4cf1560fb56c        <span class="m">3</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      1c16fc7740b1        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      1c16fc7740b1        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      3a2f44a2326e        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      3a2f44a2326e        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      2ce25ab4f43d        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      2ce25ab4f43d        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      e1448b1d5bcd        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      e1448b1d5bcd        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/testbox    &lt;none&gt;                      9d3fdbf8fa06        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
localhost:5010/test/basebox   &lt;none&gt;                      9d3fdbf8fa06        <span class="m">4</span> months ago        <span class="m">1</span>.14GB
</pre>
<ol class="arabic simple">
<li>Following command will fail</li>
</ol>
<pre class="code bash literal-block">
<span class="nv">to_remove_images_list</span><span class="o">=</span>docker images<span class="p">|</span>grep none<span class="p">|</span>awk <span class="s1">'{print $3}'</span>
<span class="k">for</span> i in <span class="nv">$to_remove_image_list</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> docker rmi <span class="nv">$i</span><span class="p">;</span> <span class="k">done</span>
</pre>
<ol class="arabic simple">
<li>Solve this with my lovely python</li>
</ol>
<pre class="code python literal-block">
<span class="c1">###As the return of docker deamon may diff from version to version, following script has to be adjusted</span>
<span class="c1">###just as docker rmi localhost:5000/test/busybox&#64;sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf</span>
<span class="kn">import</span> <span class="nn">docker</span>
<span class="n">cli</span> <span class="o">=</span> <span class="n">docker</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
<span class="n">all_images</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">images</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_images</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="p">[</span><span class="s1">'RepoTags'</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="p">[</span><span class="s1">'RepoDigests'</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
            <span class="n">cli</span><span class="o">.</span><span class="n">remove_image</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">j</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre>
<ol class="arabic simple">
<li><a class="reference external" href="https://medium.com/&#64;oprearocks/how-to-properly-override-the-entrypoint-using-docker-run-2e081e5feb9d">Properly override
entrypoint</a></li>
<li><a class="reference external" href="https://medium.com/&#64;betz.mark/ten-tips-for-debugging-docker-containers-cde4da841a1d">Debug
docker</a></li>
</ol>

    </article>
    <section class="post-nav">
        <div id="left-page">
            <div id="left-link">
                <div id="left-arrow"><i class="fa fa-chevron-circle-left"></i></div>
                <a href="/I-Like-Gcloud.html"> I Like Gcloud</a>
            </div>
        </div>
        <div id="right-page">
            <div id="right-link">
                <a href="/I-Like-Ansible.html">I Like Ansible </a>
                <div id="right-arrow"><i class="fa fa-chevron-circle-right"></i></div>
            </div>
        </div>
    </section>
    <div>
    </div>
</main>
    <footer>
        <h6>
            Copyright &copy 2018
- Alex Rhino | Rendered by <a href="http://getpelican.com/">Pelican</a> |
            Powered by <a href="http://python.org">Python</a>
        </h6>
    </footer>
</div>
</body>
</html>
